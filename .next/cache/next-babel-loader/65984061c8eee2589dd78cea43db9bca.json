{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout';\nimport SummonerSearch from '../components/SummonerSearch';\nimport Summoner from '../components/Summoner';\n\nvar Index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  function Index() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Index)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      currentSummoner: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSummonerByName\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var summonerNameToGet, apiRequest, apiResponse, statusCode;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.setState({\n                  currentSummoner: null\n                });\n\n                event.preventDefault();\n                summonerNameToGet = document.querySelector(\"#summonerNameSearch\").value;\n                _context.next = 5;\n                return fetch('/api/user/getSummonerByName', {\n                  method: 'POST',\n                  headers: {\n                    'Accept': 'application/js   on',\n                    'Content-Type': 'application/json'\n                  },\n                  body: _JSON$stringify({\n                    summonerName: summonerNameToGet\n                  })\n                });\n\n              case 5:\n                apiRequest = _context.sent;\n                _context.next = 8;\n                return apiRequest.json();\n\n              case 8:\n                apiResponse = _context.sent;\n\n                if (apiResponse.summoner.status) {\n                  statusCode = apiResponse.summoner.status.status_code;\n\n                  _this.setState({\n                    currentSummoner: null\n                  });\n\n                  alert(apiResponse.summoner.status.message);\n                } else {\n                  _this.setState({\n                    currentSummoner: apiResponse.summoner\n                  });\n                }\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var summoner = this.state.currentSummoner;\n      return __jsx(Layout, {\n        pageView: \"homepage\",\n        pageTitle: \"Homepage\"\n      }, __jsx(SummonerSearch, {\n        searchSummoner: function searchSummoner(event) {\n          return _this2.getSummonerByName(event);\n        }\n      }), __jsx(Summoner, {\n        summoner: summoner\n      }));\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nexport { Index as default };","map":{"version":3,"sources":["/home/vagrant/apps/league/pages/index.js"],"names":["React","fetch","Layout","SummonerSearch","Summoner","Index","currentSummoner","event","setState","preventDefault","summonerNameToGet","document","querySelector","value","method","headers","body","summonerName","apiRequest","json","apiResponse","summoner","status","statusCode","status_code","alert","message","state","getSummonerByName","Component"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,QAAP,MAAqB,wBAArB;;IACqBC,K;;;;;;;;;;;;;;;;;;4DACT;AACJC,MAAAA,eAAe,EAAE;AADb,K;;;;;;;+BAGY,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB,sBAAKC,QAAL,CAAc;AAAEF,kBAAAA,eAAe,EAAE;AAAnB,iBAAd;;AACAC,gBAAAA,KAAK,CAACE,cAAN;AACMC,gBAAAA,iBAHU,GAGUC,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,EAA8CC,KAHxD;AAAA;AAAA,uBAISZ,KAAK,CAAC,6BAAD,EAA+B;AACzDa,kBAAAA,MAAM,EAAE,MADiD;AAEzDC,kBAAAA,OAAO,EAAE;AACL,8BAAU,qBADL;AAEL,oCAAgB;AAFX,mBAFgD;AAMzDC,kBAAAA,IAAI,EAAE,gBAAe;AAACC,oBAAAA,YAAY,EAAEP;AAAf,mBAAf;AANmD,iBAA/B,CAJd;;AAAA;AAIVQ,gBAAAA,UAJU;AAAA;AAAA,uBAYUA,UAAU,CAACC,IAAX,EAZV;;AAAA;AAYVC,gBAAAA,WAZU;;AAahB,oBAAGA,WAAW,CAACC,QAAZ,CAAqBC,MAAxB,EAA+B;AACrBC,kBAAAA,UADqB,GACRH,WAAW,CAACC,QAAZ,CAAqBC,MAArB,CAA4BE,WADpB;;AAE3B,wBAAKhB,QAAL,CAAc;AAAEF,oBAAAA,eAAe,EAAE;AAAnB,mBAAd;;AACAmB,kBAAAA,KAAK,CAACL,WAAW,CAACC,QAAZ,CAAqBC,MAArB,CAA4BI,OAA7B,CAAL;AACH,iBAJD,MAIK;AACD,wBAAKlB,QAAL,CAAc;AACVF,oBAAAA,eAAe,EAAEc,WAAW,CAACC;AADnB,mBAAd;AAGH;;AArBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;6BAyBZ;AAAA;;AACJ,UAAMA,QAAQ,GAAG,KAAKM,KAAL,CAAWrB,eAA5B;AACA,aACI,MAAC,MAAD;AAAQ,QAAA,QAAQ,EAAG,UAAnB;AAA8B,QAAA,SAAS,EAAG;AAA1C,SACI,MAAC,cAAD;AAAgB,QAAA,cAAc,EAAI,wBAACC,KAAD;AAAA,iBAAW,MAAI,CAACqB,iBAAL,CAAuBrB,KAAvB,CAAX;AAAA;AAAlC,QADJ,EAEI,MAAC,QAAD;AAAU,QAAA,QAAQ,EAAIc;AAAtB,QAFJ,CADJ;AAMH;;;;EArC8BrB,KAAK,CAAC6B,S;;SAApBxB,K","sourcesContent":["import React from 'react';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport Layout from '../components/Layout';\r\nimport SummonerSearch from '../components/SummonerSearch';\r\nimport Summoner from '../components/Summoner';\r\nexport default class Index extends React.Component{\r\n    state = {\r\n        currentSummoner: null\r\n    }\r\n    getSummonerByName = async (event) =>{\r\n        this.setState({ currentSummoner: null});\r\n        event.preventDefault();\r\n        const summonerNameToGet = document.querySelector(\"#summonerNameSearch\").value;\r\n        const apiRequest = await fetch('/api/user/getSummonerByName',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/js   on',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({summonerName: summonerNameToGet })\r\n        })\r\n        const apiResponse = await apiRequest.json();\r\n        if(apiResponse.summoner.status){\r\n            const statusCode = apiResponse.summoner.status.status_code;\r\n            this.setState({ currentSummoner: null});\r\n            alert(apiResponse.summoner.status.message);\r\n        }else{\r\n            this.setState({\r\n                currentSummoner: apiResponse.summoner\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        const summoner = this.state.currentSummoner;\r\n        return(\r\n            <Layout pageView = 'homepage' pageTitle = 'Homepage'>\r\n                <SummonerSearch searchSummoner = {(event) => this.getSummonerByName(event)} />\r\n                <Summoner summoner = {summoner} />\r\n            </Layout>\r\n        )\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}